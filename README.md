# MessageService

Простой веб-сервис для обмена сообщениями, состоящий из следующих компонентов:

- **Веб-сервер** на платформе .NET 8
- **База данных** PostgreSQL

## Клиенты

1. **Первый клиент** отправляет сообщения на сервер.
2. **Второй клиент** получает сообщения в реальном времени через WebSocket и отображает их.
3. **Третий клиент** позволяет просматривать список сообщений за последние 10 минут.

## Функциональные возможности

- **Отправка сообщений**: Первый клиент отправляет сообщения на сервер через API. Каждое сообщение содержит текст (до 128 символов), метку времени (устанавливается на сервере) и порядковый номер (устанавливается на сервере).
- **Реальное время**: Второй клиент получает сообщения от сервера через WebSocket и отображает их в порядке поступления с указанием метки времени и порядкового номера.
- **История сообщений**: Третий клиент предоставляет возможность просматривать сообщения, отправленные за последние 10 минут.

## Архитектура

- **Паттерн**: MVC или аналогичный.
- **Слой доступа к данным (DAL)**: Реализован без использования ORM.
- **Логирование**: Ведется журналирование для отслеживания состояния работы приложения.

## Технологии

- **Серверная часть**: .NET 8
- **База данных**: PostgreSQL

# Docker

## Установка и Запуск
Запустите следующую команду для сборки и запуска контейнеров:

```bash
docker-compose up --build
```

## Доступ к приложению

- **Client 1**: [http://localhost:8080/client1](http://localhost:8080/client1)
- **Client 2**: [http://localhost:8080/client2](http://localhost:8080/client2)
- **Client 3**: [http://localhost:8080/client3](http://localhost:8080/client3)

## API-доступ

- **GraphQL API**: Доступно на [http://localhost:8080/graphql](http://localhost:8080/graphql)

## Configuration

- **Database**: `init.sql` инициализирует базу данных PostgreSQL, создавая `messages` таблицу с `text`, `timestamp`, и `sequenceNumber`.
- **Logging**: Логирование для фиксации ключевых событий. Логи пишутся как в консоль, так и в файлы в `Logs/`.

